AppInitializer.js:7 ğŸš€ Starting Daily AI initialization...
ModernBrowserChecker.js:152 ğŸŒ Browser Compatibility Check:
ModernBrowserChecker.js:153   Features supported: true
ModernBrowserChecker.js:157   Browser: chrome
ModernBrowserChecker.js:158   Version: 139
ModernBrowserChecker.js:159   Version supported: true
AppInitializer.js:19 âœ… Browser compatibility check passed
sw.js:85 SW: Service Worker loaded
(index):271 SW registered: ServiceWorkerRegistrationÂ {installing: ServiceWorker, waiting: null, active: null, navigationPreload: NavigationPreloadManager, scope: 'https://daily-ai-3b51f.web.app/',Â â€¦}
sw.js:30 SW: Installing service worker
sw.js:34 SW: Caching static assets
MemoryLeakPrevention.js:98 ğŸ‘‚ Registered event listener: Page visibility monitoring
MemoryLeakPrevention.js:98 ğŸ‘‚ Registered event listener: Before unload cleanup
MemoryLeakPrevention.js:27 âœ… Memory Manager initialized
MemoryLeakPrevention.js:478 ğŸ›¡ï¸ Memory Leak Prevention System initialized
MemoryLeakPrevention.js:51 ğŸ“… Registered interval: Memory monitoring (300000ms)
MemoryLeakPrevention.js:514 âœ… Memory Leak Prevention utility loaded
OfflineStorage.js:827 âœ… OfflineStorage system initialized
OfflineQueue.js:511 âœ… OfflineQueue system initialized
ConflictResolution.js:675 âœ… ConflictResolution system initialized
OfflineDetection.js:706 âœ… OfflineDetection system initialized
DataMaintenance.js:850 âœ… DataMaintenance system initialized
taskLogic.js:2886 âœ… Task logic and scheduling engine initialized
TaskValidation.js:793 âœ… Task Validation System initialized
OfflineDataLayer.js:1296 âœ… Offline Data Layer initialized
dataOffline.js:376 âœ… Offline-enabled data bridge initialized
userSettings.js:458 âœ… User Settings management module loaded
state.js:1931 âœ… Multi-tab synchronization initialized
state.js:1934 âœ… Enhanced state management initialized with comprehensive template and instance support
MemoryLeakPrevention.js:108 ğŸ§© Registered component for cleanup: TaskModal
TaskModal.js:2124 âœ… Task modal component initialized
MemoryLeakPrevention.js:108 ğŸ§© Registered component for cleanup: TaskList
TaskList.js:1352 âœ… Task list component initialized
PerformanceMonitor.js:56 âœ… Performance Monitor initialized
PerformanceMonitor.js:502 âœ… Performance Monitor utility loaded
Timeline.js:2763 âœ… Timeline component initialized
ui.js:940 âœ… UI management system initialized
app.js:346 âœ… Daily AI application module loaded
app.js:347 ğŸ§ª Testing objects exposed globally for console access
app.js:49 ğŸš€ Initializing Daily AI...
MemoryLeakPrevention.js:478 ğŸ›¡ï¸ Memory Leak Prevention System initialized
MemoryLeakPrevention.js:51 ğŸ“… Registered interval: Memory monitoring (300000ms)
OfflineDataLayer.js:33 ğŸ”§ OfflineDataLayer: Initializing...
sw.js:46 SW: Activating service worker
OfflineStorage.js:134 âœ… OfflineStorage: Database stores created
OfflineStorage.js:65 âœ… OfflineStorage: IndexedDB initialized
OfflineQueue.js:193 ğŸ”„ OfflineQueue: Processing started
OfflineQueue.js:91 âœ… OfflineQueue: Queue system initialized
OfflineDetection.js:72 âœ… OfflineDetection: System initialized
DataMaintenance.js:56 âœ… DataMaintenance: System initialized
OfflineDataLayer.js:85 ğŸ”§ OfflineDataLayer: Performing initial maintenance...
OfflineDataLayer.js:100 âœ… OfflineDataLayer: Initial maintenance complete
OfflineDataLayer.js:54 âœ… OfflineDataLayer: Initialization complete
app.js:56 âœ… Offline system initialized
ui.js:68 âœ… UI system initialized
MemoryLeakPrevention.js:98 ğŸ‘‚ Registered event listener: Network checker online listener
MemoryLeakPrevention.js:98 ğŸ‘‚ Registered event listener: Network checker offline listener
app.js:63 âœ… Network monitoring initialized
MemoryLeakPrevention.js:108 ğŸ§© Registered component for cleanup: SimpleTabSync
MemoryLeakPrevention.js:98 ğŸ‘‚ Registered event listener: Tab sync channel listener for tab_1756520026632_5vo2iiavr
MemoryLeakPrevention.js:98 ğŸ‘‚ Registered event listener: Tab sync visibility listener for tab_1756520026632_5vo2iiavr
SimpleTabSync.js:19 Tab tab_1756520026632_5vo2iiavr initialized
app.js:67 âœ… Tab synchronization initialized
firebase.js:19 âœ… Firebase initialized
app.js:71 âœ… Firebase initialized
app.js:119 ğŸ”’ User not authenticated, showing login
AppInitializer.js:27 âœ… App initialized successfully
(index):289 âœ… Daily AI loaded successfully
(index):1 [DOM] Input elements should have autocomplete attributes (suggested: "current-password"): (More info: https://goo.gl/9p2vKq) <input type=â€‹"password" id=â€‹"password" class=â€‹"input" required placeholder=â€‹"Enter your password">â€‹
app.js:82 âœ… User authenticated: yearmonthday365@gmail.com
app.js:91 ğŸ”§ Step 1: Initializing user settings...
userSettings.js:83 ğŸ”§ Initializing user settings for: QsSzBcUUBDP4dkCATobvAxIxrWl1
userSettings.js:119 ğŸ“„ User settings loaded from Firestore
userSettings.js:89 âœ… Loaded existing user settings
taskLogic.js:618 ğŸ“ Placed 0 anchor tasks
taskLogic.js:646 ğŸ”— Resolved task dependencies
taskLogic.js:618 ğŸ“ Placed 0 anchor tasks
taskLogic.js:646 ğŸ”— Resolved task dependencies
state.js:855 âœ… User data initialized with comprehensive settings
app.js:93 âœ… Step 1 complete: User settings initialized
app.js:95 ğŸ”§ Step 2: Loading task templates...
data.js:97 ğŸ” taskTemplates.getAll - Using userId: QsSzBcUUBDP4dkCATobvAxIxrWl1
data.js:146 ğŸ” About to execute Firestore query...
data.js:148 ğŸ” Query executed successfully, processing results...
data.js:155 âœ… Retrieved 0 task templates
taskLogic.js:618 ğŸ“ Placed 0 anchor tasks
taskLogic.js:646 ğŸ”— Resolved task dependencies
state.js:1010 âœ… Task templates loaded (0 templates)
app.js:97 âœ… Step 2 complete: Task templates loaded
app.js:101 ğŸ”§ Step 3: Loading task instances for today: 2025-08-30
data.js:14 ğŸ” getCurrentUserId - auth.currentUser: QsSzBcUUBDP4dkCATobvAxIxrWl1
data.js:638 âœ… Retrieved 0 task instances for 2025-08-30
taskLogic.js:618 ğŸ“ Placed 0 anchor tasks
taskLogic.js:646 ğŸ”— Resolved task dependencies
state.js:1427 âœ… Task instances loaded for 2025-08-30 (0 instances)
app.js:103 âœ… Step 3 complete: Task instances loaded
app.js:105 ğŸ”§ Step 4: Loading daily schedule for today: 2025-08-30
data.js:14 ğŸ” getCurrentUserId - auth.currentUser: QsSzBcUUBDP4dkCATobvAxIxrWl1
state.js:1838 âœ… Daily schedule loaded for 2025-08-30
app.js:107 âœ… Step 4 complete: Daily schedule loaded
taskLogic.js:618 ğŸ“ Placed 0 anchor tasks
taskLogic.js:646 ğŸ”— Resolved task dependencies
OfflineDetection.js:135 ğŸ“¶ OfflineDetection: Connection change - 4g, downlink: 4.35
OfflineDetection.js:135 ğŸ“¶ OfflineDetection: Connection change - 4g, downlink: 9.55
MemoryLeakPrevention.js:190 ğŸ“± Page hidden - pausing non-essential operations
ui.js:141 â¸ï¸ UI updates paused (tab hidden)
MemoryLeakPrevention.js:193 ğŸ“± Page visible - resuming all operations
ui.js:148 â–¶ï¸ UI updates resumed (tab visible)
taskLogic.js:618 ğŸ“ Placed 0 anchor tasks
taskLogic.js:646 ğŸ”— Resolved task dependencies
SimpleTabSync.js:64 Tab tab_1756520026632_5vo2iiavr became active - refreshing data
SimpleTabSync.js:83 Tab tab_1756520026632_5vo2iiavr sent: refresh-check null
Warning: Donâ€™t paste code into the DevTools Console that you donâ€™t understand or havenâ€™t reviewed yourself. This could allow attackers to steal your identity or take control of your computer. Please type â€˜allow pastingâ€™ below and press Enter to allow pasting.
allow pasting
/**
 * Quick recursion fix test - Run this in browser console
 * Tests that component cleanup no longer causes infinite recursion
 */

console.log('ğŸ§ª Starting component recursion fix test...');

// Test 1: Check if MemoryLeakPrevention has state guards
function testMemoryLeakPreventionStateGuards() {
  console.log('\nğŸ“‹ Test 1: MemoryLeakPrevention state guards');
  
  // Create a mock component with destroy method
  const mockComponent = {
    constructor: { name: 'TestComponent' },
    _isDestroying: false,
    _isDestroyed: false,
    destroy: function() {
      console.log('Mock component destroy called');
    }
  };
  
  try {
    // First call should work
    console.log('Calling unregisterComponent first time...');
    memoryManager.unregisterComponent(mockComponent);
    
    // Second call should be prevented by state guards
    console.log('Calling unregisterComponent second time (should be prevented)...');
    memoryManager.unregisterComponent(mockComponent);
    
    console.log('âœ… State guards working - no infinite recursion');
    return true;
  } catch (error) {
    console.error('âŒ State guards failed:', error);
    return false;
  }
}

// Test 2: Check TaskList no longer calls ComponentManager.unregister
function testTaskListRecursionFix() {
  console.log('\nğŸ“‹ Test 2: TaskList recursion prevention');
  
  try {
    const testTaskList = new TaskList();
    testTaskList._isDestroying = false;
    testTaskList._isDestroyed = false;
    
    console.log('Calling TaskList destroy method...');
    testTaskList.destroy();
    
    // If we reach here, no infinite recursion occurred
    console.log('âœ… TaskList destroy completed without recursion');
    return true;
  } catch (error) {
    console.error('âŒ TaskList recursion test failed:', error);
    return false;
  }
}

// Test 3: Monitor console for recursion messages
function monitorConsoleForRecursion() {
  console.log('\nğŸ“‹ Test 3: Console monitoring for recursion messages');
  
  let recursionCount = 0;
  const originalLog = console.log;
  
  // Override console.log to count recursion messages
  console.log = function(...args) {
    const message = args.join(' ');
    if (message.includes('ğŸ—‘ï¸ Unregistered component')) {
      recursionCount++;
    }
    return originalLog.apply(console, args);
  };
  
  // Wait a bit then restore and report
  setTimeout(() => {
    console.log = originalLog;
    if (recursionCount > 5) {
      console.error(`âŒ Detected ${recursionCount} repeated unregister messages`);
      return false;
    } else {
      console.log(`âœ… Only ${recursionCount} unregister messages (acceptable)`);
      return true;
    }
  }, 2000);
}

// Run all tests
async function runRecursionFixTests() {
  console.log('ğŸš€ Running recursion fix validation tests...\n');
  
  const test1 = testMemoryLeakPreventionStateGuards();
  const test2 = testTaskListRecursionFix();
  
  console.log('\nğŸ“Š Test Results:');
  console.log(`Memory Leak Prevention State Guards: ${test1 ? 'âœ…' : 'âŒ'}`);
  console.log(`TaskList Recursion Prevention: ${test2 ? 'âœ…' : 'âŒ'}`);
  
  if (test1 && test2) {
    console.log('\nğŸ‰ All recursion fix tests PASSED!');
    console.log('Infinite recursion bug should be resolved.');
  } else {
    console.log('\nâš ï¸  Some tests FAILED - recursion may still occur');
  }
  
  // Start console monitoring
  monitorConsoleForRecursion();
}

// Expose test function globally
window.testRecursionFix = runRecursionFixTests;

console.log('âœ… Recursion fix test loaded. Run testRecursionFix() to validate the fix.');
VM95:6 ğŸ§ª Starting component recursion fix test...
VM95:114 âœ… Recursion fix test loaded. Run testRecursionFix() to validate the fix.
undefined
testRecursionFix()
VM95:91 ğŸš€ Running recursion fix validation tests...

VM95:10 
ğŸ“‹ Test 1: MemoryLeakPrevention state guards
VM95:24 Calling unregisterComponent first time...
VM95:28 Calling unregisterComponent second time (should be prevented)...
VM95:31 âœ… State guards working - no infinite recursion
VM95:41 
ğŸ“‹ Test 2: TaskList recursion prevention
VM95:55 âŒ TaskList recursion test failed: ReferenceError: TaskList is not defined
    at testTaskListRecursionFix (<anonymous>:44:26)
    at runRecursionFixTests (<anonymous>:94:17)
    at <anonymous>:1:1
testTaskListRecursionFix @ VM95:55
runRecursionFixTests @ VM95:94
(anonymous) @ VM132:1
VM95:96 
ğŸ“Š Test Results:
VM95:97 Memory Leak Prevention State Guards: âœ…
VM95:98 TaskList Recursion Prevention: âŒ
VM95:104 
âš ï¸  Some tests FAILED - recursion may still occur
VM95:62 
ğŸ“‹ Test 3: Console monitoring for recursion messages
PromiseÂ {<fulfilled>: undefined}
VM95:83 âœ… Only 0 unregister messages (acceptable)
testTaskListRecursionFix()
VM95:41 
ğŸ“‹ Test 2: TaskList recursion prevention
VM95:55 âŒ TaskList recursion test failed: ReferenceError: TaskList is not defined
    at testTaskListRecursionFix (<anonymous>:44:26)
    at <anonymous>:1:1
testTaskListRecursionFix @ VM95:55
(anonymous) @ VM191:1
false
MemoryLeakPrevention.js:485 Uncaught ReferenceError: process is not defined
    at MemoryLeakPrevention.js:485:5
    at MemoryLeakPrevention.js:36:9
(anonymous) @ MemoryLeakPrevention.js:485
(anonymous) @ MemoryLeakPrevention.js:36
setInterval
registerInterval @ MemoryLeakPrevention.js:34
set @ MemoryLeakPrevention.js:365
initMemoryLeakPrevention @ MemoryLeakPrevention.js:481
(anonymous) @ MemoryLeakPrevention.js:500
MemoryLeakPrevention.js:485 Uncaught ReferenceError: process is not defined
    at MemoryLeakPrevention.js:485:5
    at MemoryLeakPrevention.js:36:9
(anonymous) @ MemoryLeakPrevention.js:485
(anonymous) @ MemoryLeakPrevention.js:36
setInterval
registerInterval @ MemoryLeakPrevention.js:34
set @ MemoryLeakPrevention.js:365
initMemoryLeakPrevention @ MemoryLeakPrevention.js:481
initApp @ app.js:52
initializeMainApp @ AppInitializer.js:93
await in initializeMainApp
initialize @ AppInitializer.js:25
(anonymous) @ (index):287
/**
 * Scheduling System Fix Validation Test
 * Run this in browser console to verify the detectAndMarkConflicts fix
 */

console.log('ğŸ§ª Testing scheduling system fix...');

// Test 1: Verify detectAndMarkConflicts method exists in schedulingEngine
function testDetectAndMarkConflictsExists() {
  console.log('\nğŸ“‹ Test 1: detectAndMarkConflicts method accessibility');
  
  try {
    if (typeof schedulingEngine !== 'undefined') {
      if (typeof schedulingEngine.detectAndMarkConflicts === 'function') {
        console.log('âœ… schedulingEngine.detectAndMarkConflicts exists');
        return true;
      } else {
        console.log('âŒ detectAndMarkConflicts method not found in schedulingEngine');
        return false;
      }
    } else {
      console.log('âŒ schedulingEngine object not found');
      return false;
    }
  } catch (error) {
    console.error('âŒ Error checking detectAndMarkConflicts:', error);
    return false;
  }
}

// Test 2: Test the actual scheduling algorithm
function testSchedulingAlgorithm() {
  console.log('\nğŸ“‹ Test 2: runSchedulingAlgorithm execution');
  
  try {
    if (typeof schedulingEngine !== 'undefined' && typeof schedulingEngine.runSchedulingAlgorithm === 'function') {
      // Create mock data for testing
      const mockTasks = [
        {
          id: 'test-1',
          taskName: 'Test Task 1',
          durationMinutes: 30,
          scheduledTime: '09:00',
          isSkippable: false
        },
        {
          id: 'test-2', 
          taskName: 'Test Task 2',
          durationMinutes: 45,
          scheduledTime: '09:15', // This should create a conflict
          isSkippable: true
        }
      ];
      
      const mockSleepSchedule = {
        sleepTime: '23:00',
        wakeTime: '07:00'
      };
      
      console.log('Calling runSchedulingAlgorithm with test data...');
      const result = schedulingEngine.runSchedulingAlgorithm(mockTasks, mockSleepSchedule);
      
      if (result && Array.isArray(result)) {
        console.log('âœ… runSchedulingAlgorithm completed successfully');
        console.log(`   Returned ${result.length} scheduled tasks`);
        
        // Check if conflict detection worked
        const conflictTasks = result.filter(task => task.hasConflicts);
        if (conflictTasks.length > 0) {
          console.log(`âœ… Conflict detection working: Found ${conflictTasks.length} tasks with conflicts`);
        } else {
          console.log('â„¹ï¸  No conflicts detected in test data');
        }
        
        return true;
      } else {
        console.log('âŒ runSchedulingAlgorithm returned invalid result:', result);
        return false;
      }
    } else {
      console.log('âŒ runSchedulingAlgorithm method not found');
      return false;
    }
  } catch (error) {
    console.error('âŒ Error testing scheduling algorithm:', error);
    return false;
  }
}

// Test 3: Test actual schedule generation for today
function testScheduleGeneration() {
  console.log('\nğŸ“‹ Test 3: generateScheduleForDate execution');
  
  try {
    if (typeof schedulingEngine !== 'undefined' && typeof schedulingEngine.generateScheduleForDate === 'function') {
      const today = new Date().toISOString().split('T')[0]; // YYYY-MM-DD format
      
      console.log(`Generating schedule for ${today}...`);
      const result = schedulingEngine.generateScheduleForDate(today);
      
      if (result && typeof result === 'object') {
        console.log('âœ… generateScheduleForDate completed successfully');
        console.log('   Schedule object returned');
        return true;
      } else {
        console.log('âŒ generateScheduleForDate returned invalid result:', result);
        return false;
      }
    } else {
      console.log('âŒ generateScheduleForDate method not found');
      return false;
    }
  } catch (error) {
    console.error('âŒ Error testing schedule generation:', error);
    console.error('   Error details:', error.message);
    return false;
  }
}

// Run all tests
async function runSchedulingTests() {
  console.log('ğŸš€ Running scheduling system validation tests...\n');
  
  const test1 = testDetectAndMarkConflictsExists();
  const test2 = testSchedulingAlgorithm();
  const test3 = testScheduleGeneration();
  
  console.log('\nğŸ“Š Test Results:');
  console.log(`detectAndMarkConflicts exists: ${test1 ? 'âœ…' : 'âŒ'}`);
  console.log(`Scheduling algorithm works: ${test2 ? 'âœ…' : 'âŒ'}`);
  console.log(`Schedule generation works: ${test3 ? 'âœ…' : 'âŒ'}`);
  
  if (test1 && test2 && test3) {
    console.log('\nğŸ‰ All scheduling system tests PASSED!');
    console.log('The detectAndMarkConflicts fix is working correctly.');
  } else {
    console.log('\nâš ï¸  Some tests FAILED - scheduling system may still have issues');
  }
  
  return { test1, test2, test3 };
}

// Expose test function globally
window.testSchedulingFix = runSchedulingTests;

console.log('âœ… Scheduling system test loaded. Run testSchedulingFix() to validate the fix.');
VM194:6 ğŸ§ª Testing scheduling system fix...
VM194:146 âœ… Scheduling system test loaded. Run testSchedulingFix() to validate the fix.
undefined
testSchedulingFix()
VM194:122 ğŸš€ Running scheduling system validation tests...

VM194:10 
ğŸ“‹ Test 1: detectAndMarkConflicts method accessibility
VM194:22 âŒ schedulingEngine object not found
VM194:33 
ğŸ“‹ Test 2: runSchedulingAlgorithm execution
VM194:81 âŒ runSchedulingAlgorithm method not found
VM194:92 
ğŸ“‹ Test 3: generateScheduleForDate execution
VM194:110 âŒ generateScheduleForDate method not found
VM194:128 
ğŸ“Š Test Results:
VM194:129 detectAndMarkConflicts exists: âŒ
VM194:130 Scheduling algorithm works: âŒ
VM194:131 Schedule generation works: âŒ
VM194:137 
âš ï¸  Some tests FAILED - scheduling system may still have issues
PromiseÂ {<fulfilled>: {â€¦}}
